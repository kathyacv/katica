<div class="loader" *ngIf="loading">
    <div class="svg-container">
        <svg class="ft-green-tick" xmlns="http://www.w3.org/2000/svg" height="150" width="150" viewBox="0 0 48 48"
            aria-hidden="true">
            <circle class="circle" fill="#5bb543" cx="24" cy="24" r="22" />
            <path class="tick" fill="none" stroke="#FFF" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"
                stroke-miterlimit="10" d="M14 27l5.917 4.917L34 17" />
        </svg>
    </div><br>
    <p style="color:var(--primary)" class="bold">Se proceso el pedido correctamente</p>
    <p style="color:var(--primary)">¡Muchas gracias por su preferencia!</p>
    <br><br><br>
    <button (click)="goBack()" style="width: 200px;">Regresar</button>
</div>

<div class="container">
    <div routerLink="/catalogue" routerLinkActive="active" ariaCurrentWhenActive="page" class="back">
        Regresar
    </div>

    <div class="navbar">

        <div class="logo">
            <img src="./assets/logo.png" alt="logo">
        </div>
        <div class="menu">
            <p>Inicio</p>
            <p>Contáctenos</p>

            <!-- <div class="cart" routerLink="/cart" routerLinkActive="active" ariaCurrentWhenActive="page">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                    <path
                        d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
                </svg>
                <div *ngIf="cartProducts.length > 0" class="cant">
                    {{ cartProducts.length }}
                </div>
            </div> -->
        </div>

        <div class="menu-icon">
            <img src="../../../assets/icons/menu.png" alt="" srcset="">
        </div>
    </div>


    <div class="content">

        <div class="products">
            <ng-container *ngIf="cartProducts">
                <div class="product" *ngFor="let p of cartProducts">
                    <div (click)="deleteCartProduct(p.id)" class="delete">
                        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"
                            viewBox="0 0 105.16 122.88">
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill-rule: evenodd;
                                    }
                                </style>
                            </defs>
                            <title>delete</title>
                            <path class="cls-1"
                                d="M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z" />
                        </svg>
                    </div>
                    <div class="data">
                        <div class="picture">
                            <img [src]="p.photo_url" alt="">
                        </div>
                        <div class="info">
                            <p class="name bold">{{ p.name }}</p>
                            <p class="category">{{ p.category }}</p>
                            <p class="brand">{{ p.brand }}</p>
                            <span class="price-info bold" *ngIf="p.discount == '0'">{{ p.price | currency:'₡':'symbol':'4.0' }} c/u <br></span>
                            <span class="price-info bold price-discount" *ngIf="p.discount != '0'">{{ p.price | currency:'₡':'symbol':'4.0' }} c/u <br></span>
                            <span class="price-info bold" *ngIf="p.discount != '0'">{{ p.discount | currency:'₡':'symbol':'4.0' }} c/u</span>
                        </div>
                    </div>


                    <div class="price">
                        <div>
                            <p class="price-product bold">Total del producto</p>
                            <p class="total-price-product bold" *ngIf="p.discount == '0'">{{ p.price * p.cant | currency:'₡':'symbol':'4.0' }}</p>
                            <p class="total-price-product bold" *ngIf="p.discount != '0'">{{ p.discount * p.cant | currency:'₡':'symbol':'4.0' }}</p>
                        </div><br>

                        <div class="cant">
                            <div (click)="lessCant(p.id)" class="less">-</div>
                            {{ p.cant }}
                            <div (click)="plusCant(p.id)" class="plus">+</div>
                        </div><br>
                        <p class="stock">Hay {{ p.quantity }} productos disponibles</p>
                    </div>
                </div>

                <div class="total row-between">
                    
                    

                    <div class="colm">
                        <div class="colm">
                            <span class="bold">TOTAL NETO</span>
                            <p class="bold label-price">{{ totalNeto | currency:'₡':'symbol':'4.0' }}</p>
                        </div><br>
                        <div class="colm">
                            <span class="bold">DESCUENTO</span>
                            <p class="bold label-price">{{ totalDiscount | currency:'₡':'symbol':'4.0' }}</p>
                        </div><br>
                    </div>

                    <div class="colm">
                        <span class="bold">TOTAL A PAGAR</span>
                        <p class="bold label-total">{{ totalAmount | currency:'₡':'symbol':'4.0' }}</p>
                    </div>

                </div>

            </ng-container>
        </div>
        <div class="form">

            <div class="form-input">
                <div class="title">Información del pedido</div>

                <p class="note">Para completar su pedido realizar el pago por Sinpe Movil al numero <br> <span
                        class="bold">+506 8896 7637</span><br><br> Favor agregar en el motivo el siguiente código: <span
                        class="bold primary">{{ id }}</span> </p>

                <div class="row">
                    <div class="input-container ic1">
                        <input [(ngModel)]="name" id="firstname" class="input" type="text" placeholder=" " />
                        <div class="cut"></div>
                        <label for="firstname" class="placeholder">Nombre</label>
                    </div>
                    <div class="input-container ic1">
                        <input [(ngModel)]="lastname" id="lastname" class="input" type="text" placeholder=" " />
                        <div class="cut"></div>
                        <label for="lastname" class="placeholder">Apellidos</label>
                    </div>
                </div>

                <div class="input-container ic2">
                    <input [(ngModel)]="email" id="email" class="input" type="text" placeholder=" " />
                    <div class="cut"></div>
                    <label for="email" class="placeholder">Correo</label>
                </div>

                <div class="input-container ic2">
                    <input [(ngModel)]="phone" id="phone" class="input" type="text" placeholder=" " />
                    <div class="cut"></div>
                    <label for="phone" class="placeholder">Teléfono</label>
                </div>


                <label for="images" class="drop-container">
                    <span class="drop-title">Adjunte el comprobante aquí</span>
                    o
                    <input [(ngModel)]="comprobante" type="file" placeholder="Seleccione el documento" id="images"
                        accept="image/*" required>
                </label><br><br>

                <p style="color: #dc5757; text-align: center;" *ngIf="verifyForm()">Favor llenar los campos del
                    formulario</p>

                <button (click)="saveDelivery()" type="text" class="submit">Realizar pedido</button>
            </div>

        </div>

    </div>

</div>